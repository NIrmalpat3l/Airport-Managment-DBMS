                                                              AIRPORT MANAGEMENT SYSTEM     


* Table Creation :                  

CREATE TABLE AIRPORT(
        AIRPORT_NAME VARCHAR(50) NOT NULL,
    	CITY VARCHAR(20),
   	STATE VARCHAR(20),
	PRIMARY KEY (AIRPORT_NAME)
);

CREATE TABLE AIRLINE(
	AIRLINE_ID INT NOT NULL,
	AIRLINE_NAME VARCHAR(50),
	AIRPORT_NAME VARCHAR(50),
        PRIMARY KEY (AIRLINE_ID),
	FOREIGN KEY (AIRPORT_NAME) REFERENCES AIRPORT(AIRPORT_NAME)
);

CREATE TABLE CONTAINS(
	AIRPORT_NAME VARCHAR(50),
    	AIRLINE_ID INT,
	FOREIGN KEY (AIRPORT_NAME) REFERENCES AIRPORT(AIRPORT_NAME),
	FOREIGN KEY (AIRLINE_ID) REFERENCES AIRLINE(AIRLINE_ID)
);

CREATE TABLE FLIGHT(
    FLIGHT_NO INT NOT NULL,
    SOURCE VARCHAR2(50) NOT NULL,
    DESTINATION VARCHAR2(50) NOT NULL,
    STATUS VARCHAR2(20),
    CONNECTED VARCHAR2(20),
    D_TIME TIMESTAMP, 
    A_TIME TIMESTAMP,
    DURATION INT NOT NULL,
    AIRLINE_ID INT,
    PRIMARY KEY (FLIGHT_NO),
    FOREIGN KEY (AIRLINE_ID) REFERENCES AIRLINE(AIRLINE_ID)
);

CREATE TABLE EMPLOYEE(
        E_ID INT,
    	NAME VARCHAR(50),
    	ADDRESS VARCHAR(50),
    	SEX VARCHAR(20),
    	SALARY INT,
    	AGE INT,
        DOB DATE,
        DESIGNATION VARCHAR2(50),
        PRIMARY KEY (E_ID),
    	AIRPORT_NAME VARCHAR(50),
	FOREIGN KEY (AIRPORT_NAME) REFERENCES AIRPORT(AIRPORT_NAME)
);


CREATE TABLE EMP_PHONE_NO(
    	E_ID INT,
    	PHONE_NO VARCHAR(13),
	FOREIGN KEY (E_ID) REFERENCES   EMPLOYEE(E_ID)
);

CREATE TABLE TICKET(
	TICKET_NO VARCHAR(20) NOT NULL,
	AIRLINE_NAME VARCHAR(50) NOT NULL,
	PRICE INT NOT NULL,
	SEAT_NO VARCHAR(20),
	CLASS VARCHAR(20),
	D_TIME TIMESTAMP,
	A_TIME TIMESTAMP,
	DURATION INT,
	SOURCE VARCHAR(50),
	DESTINATION VARCHAR(50),
	PASSPORT_NO VARCHAR(20),
	PASSENGER_NAME VARCHAR(50),
        PRIMARY KEY (TICKET_NO)
);

CREATE TABLE PASSENGER(
	PASSPORT_NO VARCHAR(20) NOT NULL,
	NAME VARCHAR(50) NOT NULL,
	ADDRESS VARCHAR(50),
	SEX VARCHAR(10),
	DOB DATE,
	AGE INT,
	FLIGHT_NO INT,
	TICKET_NO VARCHAR(20),
        PRIMARY KEY(PASSPORT_NO),
	FOREIGN KEY (FLIGHT_NO) REFERENCES   FLIGHT(FLIGHT_NO),
	FOREIGN KEY (TICKET_NO) REFERENCES   TICKET(TICKET_NO)
);

ALTER TABLE TICKET ADD CONSTRAINT FK_NAME FOREIGN KEY (PASSPORT_NO) REFERENCES PASSENGER(PASSPORT_NO);

CREATE TABLE PASSENGER_PHONE_NO(
	PASSPORT_NO VARCHAR(20),
	PHONE_NO VARCHAR(13),
        FOREIGN KEY (PASSPORT_NO) REFERENCES   PASSENGER(PASSPORT_NO)
);

CREATE TABLE SERVES(
 	E_ID INT,
 	PASSPORT_NO VARCHAR(20),	
	FOREIGN KEY (E_ID) REFERENCES   EMPLOYEE(E_ID),
	FOREIGN KEY (PASSPORT_NO) REFERENCES   PASSENGER(PASSPORT_NO)
);